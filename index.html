<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Skyrift Poets ‚Äì Official Site & Devlog</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>

<body>

<!-- ========================================================= -->
<!-- TOP NAVIGATION + SEARCH BAR -->
<!-- ========================================================= -->

<header class="site-header">
  <div class="nav-inner">

    <div class="logo">
      <span class="logo-text">Skyrift Poets</span>
    </div>

    <nav class="main-nav">
      <a href="#home" class="nav-link active">Home</a>
      <a href="blog.html" class="nav-link">Blog</a>
      <a href="#media" class="nav-link">Media</a>
      <a href="#wiki" class="nav-link">Wiki</a>
      <a href="#faq" class="nav-link">FAQ</a>
      <a href="#buy" class="nav-link cta-link">Buy / Wishlist</a>
    </nav>

    <!-- SEARCH BAR BUTTON -->
    <div class="search-trigger" id="openSearch">
      üîç Search
    </div>

  </div>
</header>


<!-- ========================================================= -->
<!-- SEARCH PANEL OVERLAY -->
<!-- ========================================================= -->

<div class="search-overlay" id="searchOverlay">

  <div class="search-panel">

    <div class="search-top">
      <input id="searchInput" type="text" placeholder="Search art & blog posts‚Ä¶">
      <!-- Template icon ‚Äî you may replace -->
      <button id="closeSearch" class="search-close-btn">‚úï</button>
    </div>

    <div class="search-results" id="searchResults">
      <!-- Results auto-fill via JS -->
    </div>

  </div>

</div>



<!-- ========================================================= -->
<!-- HERO + CONTENT (unchanged) -->
<!-- ========================================================= -->
<!-- your existing homepage content stays the same down to MEDIA -->


<!-- ========================================================= -->
<!-- MEDIA SECTION (gallery thumbnails now open viewer) -->
<!-- ========================================================= -->

<section class="section" id="media">
  <div class="section-header">
    <h2>Media & Gallery</h2>
    <p>Add screenshots, GIFs, and art from your game.</p>
  </div>

  <div class="media-grid">

    <!-- TEMPLATE ART ITEM -->
    <div class="media-item"
         data-title="Space Cats"
         data-desc="Template description text goes here ‚Äî replace with your own."
         data-src="images/Space cats.jpg">

      <img src="images/Space cats.jpg" alt="Space Cats">
      <div class="media-label">Space Cats</div>
    </div>

    <!-- Add more items the same way -->
  </div>

  <div class="section-footer">
    <a href="gallery.html" class="text-link">Open full gallery</a>
  </div>
</section>



<!-- ========================================================= -->
<!-- ART VIEWER PAGE (opens when art clicked) -->
<!-- ========================================================= -->

<div class="art-viewer" id="artViewer">

  <div class="art-left">

    <h2 id="artTitle"></h2>

    <div class="art-image-wrapper">

      <!-- Main image -->
      <img id="artMainImage">

      <!-- Maximise icon template (you may replace image) -->
      <button id="enterFullscreen" class="fullscreen-btn">
        ‚òê
      </button>

      <!-- Minimise icon template -->
      <button id="exitFullscreen" class="minimise-btn">
        üûë
      </button>

    </div>

    <p id="artDescription" class="art-description"></p>

  </div>

  <!-- RIGHT SIDE SCROLL LIST -->
  <aside class="art-sidebar" id="artSidebar">
    <!-- auto-filled thumbnails -->
  </aside>

</div>



<!-- ========================================================= -->
<!-- FULLSCREEN MODE CONTAINER -->
<!-- ========================================================= -->

<div class="fullscreen-container" id="fullscreenContainer">
  <img id="fullscreenImage">
  <button id="fullscreenExitBtn" class="fullscreen-exit-btn">üûë</button>
</div>



<!-- ========================================================= -->
<!-- SEARCH + ART VIEWER SCRIPT -->
<!-- ========================================================= -->

<script>
/* =======================
   ART VIEWER LOGIC
======================= */

const viewer = document.getElementById("artViewer");
const mainImg = document.getElementById("artMainImage");
const titleEl = document.getElementById("artTitle");
const descEl = document.getElementById("artDescription");
const sidebar = document.getElementById("artSidebar");

const fullscreenWrap = document.getElementById("fullscreenContainer");
const fullscreenImg = document.getElementById("fullscreenImage");
const fsExit = document.getElementById("fullscreenExitBtn");

document.querySelectorAll(".media-item").forEach(item => {
  item.addEventListener("click", () => {

    const src = item.dataset.src;
    const title = item.dataset.title;
    const desc = item.dataset.desc;

    mainImg.src = src;
    fullscreenImg.src = src;
    titleEl.textContent = title;
    descEl.textContent = desc;

    viewer.style.display = "grid";
  });
});

document.getElementById("enterFullscreen").onclick = () => {
  fullscreenWrap.style.display = "flex";
};

document.getElementById("exitFullscreen").onclick =
fsExit.onclick = () => {
  fullscreenWrap.style.display = "none";
};



/* =======================
   SEARCH SYSTEM
======================= */

const searchOverlay = document.getElementById("searchOverlay");
const openSearch = document.getElementById("openSearch");
const closeSearch = document.getElementById("closeSearch");
const searchInput = document.getElementById("searchInput");
const resultsBox = document.getElementById("searchResults");

openSearch.onclick = () => searchOverlay.classList.add("show");
closeSearch.onclick = () => searchOverlay.classList.remove("show");
searchOverlay.addEventListener("click", e => {
  if (e.target === searchOverlay) searchOverlay.classList.remove("show");
});

const searchableItems = [];

/* ART becomes searchable */
document.querySelectorAll(".media-item").forEach(item => {
  searchableItems.push({
    type: "art",
    title: item.dataset.title,
    desc: item.dataset.desc,
    src: item.dataset.src
  });
});

/* BLOG placeholder structure (replace with real posts if needed) */
searchableItems.push({
  type: "blog",
  title: "What happened to Skylanders?",
  text: "The life and death of a seemingly invincible game franchise."
});

function highlight(text, term){
  const re = new RegExp(`(${term})`, "ig");
  return text.replace(re, "<mark>$1</mark>");
}

searchInput.addEventListener("input", () => {
  const q = searchInput.value.trim();

  resultsBox.innerHTML = "";

  searchableItems.forEach(item => {

    const content = (item.desc || item.text || "").toLowerCase();

    if (!q || item.title.toLowerCase().includes(q) || content.includes(q)) {

      const el = document.createElement("div");
      el.className = "search-result";

      if (item.type === "art") {
        el.innerHTML = `
          <div class="search-art">
            <img src="${item.src}">
            <div>
              <h3>${highlight(item.title,q)}</h3>
              <p>${highlight(item.desc,q)}</p>
            </div>
          </div>`;
      }

      if (item.type === "blog") {
        el.innerHTML = `
          <div class="search-blog">
            <h3>${highlight(item.title,q)}</h3>
            <p>${highlight(item.text,q)}</p>
          </div>`;
      }

      resultsBox.appendChild(el);
    }
  });

});
</script>

</body>
</html>
