<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Gallery – YOUR GAME TITLE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <!-- NAV (same look as homepage) -->
  <header class="site-header">
    <div class="nav-inner">
      <div class="logo">
        <span class="logo-text">YOUR GAME TITLE</span>
      </div>

      <nav class="main-nav">
        <a href="index.html#home" class="nav-link">Home</a>
        <a href="blog.html" class="nav-link">Blog</a>
        <a href="index.html#media" class="nav-link active">Media</a>
        <a href="index.html#wiki" class="nav-link">Wiki</a>
        <a href="index.html#faq" class="nav-link">FAQ</a>
        <a href="index.html#buy" class="nav-link cta-link">Buy / Wishlist</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="section" style="padding-top: 90px;">
      <div class="section-header">
        <h1>Full Gallery</h1>
        <p>All screenshots, GIFs, concept art, 3D renders, and progress images.</p>
      </div>

     <div class="gallery-toolbar">
  <div class="filter-bar" aria-label="Sort by media type">
    <span class="filter-label">Sort by:</span>

    <button class="filter-btn" type="button" data-filter="painting">Painting</button>
    <button class="filter-btn" type="button" data-filter="sketch">Sketch</button>
    <button class="filter-btn" type="button" data-filter="sculpture">Sculpture</button>
    <button class="filter-btn" type="button" data-filter="digital">Digital</button>
    <button class="filter-btn" type="button" data-filter="animation">Animation</button>
    <button class="filter-btn" type="button" data-filter="3d">3D</button>

    <button class="filter-clear" type="button" id="filterClear">Clear</button>
  </div>

  <span class="gallery-hint" id="filterHint">Click multiple tags to filter.</span>
</div>


      <!-- GALLERY GRID -->
      <div class="gallery-grid">

        <!-- ITEM 1 (placeholder) -->
     <a class="gallery-item" href="images/OG JICIMI car scene colored.PNG" data-tags="digital">
  <div class="gallery-thumb">
    <img src="images/OG JICIMI car scene colored.PNG" alt="William’s Car">
  </div>
<div class="gallery-caption">

    <div class="cap-title">Just in case I make it</div>
    <div class="cap-sub">First fully rendered thumbnail art of webtoon series ‘In case I make it’</div>
  </div>
</a>


        <!-- ITEM 2 (Golden Freddy) -->
        <!-- If your filename has spaces, use %20 for safety -->
       <a class="gallery-item" href="images/Golden%20freddy%20art.jpeg" data-tags="painting">

          <div class="gallery-thumb">
            <img src="images/Golden%20freddy%20art.jpeg" alt="Golden Freddy">
          </div>
          <div class="gallery-caption">
            <div class="cap-title">Golden Freddy</div>
            <div class="cap-sub">IT'S ME. Acrylic painting on a piece of scrap cardboard.</div>
          </div>
        </a>



<a class="gallery-item" href="images/Space%20cats.jpg" data-tags="digital">
  <div class="gallery-thumb">
    <img src="images/Space%20cats.jpg" alt="Space Cats">
  </div>
  <div class="gallery-caption">
    <div class="cap-title">Space Cats</div>
    <div class="cap-sub">Digital art of Warrior Cats OC's</div>
  </div>
</a>

        
<!-- test-->



        

    
       

        <!-- ITEM 4 (placeholder) -->

        <a class="gallery-item" href="images/Barnaby chill.PNG" data-tags="digital">
  <div class="gallery-thumb">
    <img src="images/Barnaby chill.PNG" alt="Barnaby">
  </div>
  <div class="gallery-caption">
    <div class="cap-title">Barnaby</div>
    <div class="cap-sub">Barnaby Rendered art</div>
  </div>
</a>

       <a class="gallery-item" href="images/Barnaby%20chill.PNG" data-tags="sketch">

          <div class="gallery-thumb">
            <span class="media-placeholder">Concept Art 1</span>
          </div>
          <div class="gallery-caption">
            <div class="cap-title">Concept Art</div>
            <div class="cap-sub">Character sketch</div>
          </div>
        </a>

        <!-- ITEM 5 (placeholder) -->
        <a class="gallery-item" href="images/render-1.png">
          <div class="gallery-thumb">
            <span class="media-placeholder">3D Render 1</span>
          </div>
          <div class="gallery-caption">
            <div class="cap-title">3D Render</div>
            <div class="cap-sub">Model progress</div>
          </div>
        </a>

      </div>

      <div class="section-footer">
        <a href="index.html#media" class="text-link">← Back to Media section</a>
      </div>
    </section>
  </main>

  <!-- LIGHTBOX WIDGET (paste once per page) -->
  <div class="lightbox-overlay" id="lightboxOverlay" aria-hidden="true">
    <div class="lightbox-modal" id="lightboxModal" role="dialog" aria-modal="true" aria-label="Image viewer">
      <div class="lightbox-topbar">
        <!-- NEW: Lightbox navigation arrows (gallery-only) -->
<button class="lightbox-nav lightbox-prev" id="lightboxPrev" type="button" aria-label="Previous artwork">‹</button>
<button class="lightbox-nav lightbox-next" id="lightboxNext" type="button" aria-label="Next artwork">›</button>

  <div class="lightbox-head">
    <p class="lightbox-title" id="lightboxTitle">Artwork</p>
    <div class="lightbox-tags" id="lightboxTags" aria-label="Tags"></div>
  </div>

<div class="lightbox-actions">
  <button class="lightbox-close" id="lightboxClose" type="button" aria-label="Close">✕</button>
</div>

</div>

<div class="lightbox-body">
  <img class="lightbox-img" id="lightboxImg" alt="" />
</div>

<div class="lightbox-footer">
  <p class="lightbox-caption" id="lightboxCaption"></p>
  <button class="lightbox-fullscreen" id="lightboxFullscreen" type="button" aria-label="Fullscreen">⛶</button>
</div>

    </div>
  </div>


   <script>
(() => {
  // ===========================
  // LIGHTBOX + TAGS
  // ===========================
  const overlay = document.getElementById("lightboxOverlay");
  const modal = document.getElementById("lightboxModal");
  const img = document.getElementById("lightboxImg");
  const titleEl = document.getElementById("lightboxTitle");
  const capEl = document.getElementById("lightboxCaption");
  const tagsEl = document.getElementById("lightboxTags");
  const btnClose = document.getElementById("lightboxClose");
  const btnFS = document.getElementById("lightboxFullscreen");

  if (!overlay || !modal || !img) return;

  let lastFocus = null;

  function renderTags(tags) {
    if (!tagsEl) return;

    const list = (tags || "")
      .toLowerCase()
      .split(",")
      .map(t => t.trim())
      .filter(Boolean);

    tagsEl.innerHTML = list.map(t => `<span class="lightbox-tag">${t}</span>`).join("");
  }

  function openLightbox({ src, title = "", caption = "", alt = "", tags = "" }) {
    if (!src) return;

    lastFocus = document.activeElement;

    img.src = src;
    img.alt = alt || title || "Image";

    if (titleEl) titleEl.textContent = title || "Artwork";
    if (capEl) capEl.textContent = caption || "";
    renderTags(tags);

    // IMPORTANT: open as normal modal first (NOT fullscreen)
    overlay.classList.remove("soft-fullscreen");
    overlay.classList.add("open");
    overlay.setAttribute("aria-hidden", "false");
    document.body.classList.add("no-scroll");

    btnClose && btnClose.focus();
  }

  function closeLightbox() {
    overlay.classList.remove("open");
    overlay.classList.remove("soft-fullscreen");
    overlay.setAttribute("aria-hidden", "true");
    document.body.classList.remove("no-scroll");

    img.removeAttribute("src");
    if (tagsEl) tagsEl.innerHTML = "";

    if (document.fullscreenElement) {
      document.exitFullscreen().catch(() => {});
    }

    if (lastFocus && typeof lastFocus.focus === "function") lastFocus.focus();
  }

  btnClose && btnClose.addEventListener("click", closeLightbox);

  overlay.addEventListener("click", (e) => {
    if (e.target === overlay) closeLightbox();
  });

  document.addEventListener("keydown", (e) => {
    if (!overlay.classList.contains("open")) return;
    if (e.key === "Escape") closeLightbox();
        currentIndex = -1;
    updateNavButtons();

  });

  // Fullscreen toggle
  btnFS && btnFS.addEventListener("click", async () => {
    if (!overlay.classList.contains("open")) return;

    try {
      if (!document.fullscreenElement) {
        await modal.requestFullscreen();
      } else {
        await document.exitFullscreen();
      }
    } catch (err) {
      // Fallback if fullscreen blocked
      overlay.classList.toggle("soft-fullscreen");
    }
  });

  document.addEventListener("fullscreenchange", () => {
    // When exiting real fullscreen, ensure fallback class is off
    if (!document.fullscreenElement) {
      overlay.classList.remove("soft-fullscreen");
    }
  });

  // ===========================
  // GALLERY NAV (arrows + keyboard)
  // Only for gallery items on this page
  // ===========================

  const galleryLinks = Array.from(document.querySelectorAll("a.gallery-item[href]"));
  const btnPrev = document.getElementById("lightboxPrev");
  const btnNext = document.getElementById("lightboxNext");

  let currentIndex = -1;

  function isImageHref(href) {
    return /\.(png|jpg|jpeg|gif|webp|svg)$/i.test(href || "") || (href || "").includes("images/");
  }

  function getVisibleGalleryLinks() {
    // respects your filter: items with .is-hidden are excluded
    return galleryLinks.filter(a => !a.classList.contains("is-hidden") && isImageHref(a.getAttribute("href")));
  }

  function getMetaFromLink(a) {
    const href = a.getAttribute("href") || "";
    const t =
      a.querySelector(".cap-title")?.textContent?.trim() ||
      a.getAttribute("data-title") ||
      "";
    const sub =
      a.querySelector(".cap-sub")?.textContent?.trim() ||
      a.getAttribute("data-caption") ||
      "";
    const tags = a.getAttribute("data-tags") || "";
    return { src: href, title: t, caption: sub, alt: t, tags };
  }

  function updateNavButtons() {
    if (!btnPrev || !btnNext) return;
    const visible = getVisibleGalleryLinks();
    const hasMany = visible.length > 1;

    // if 0/1 visible, hide or disable (your choice). Here: disable + hide.
    btnPrev.style.display = hasMany ? "" : "none";
    btnNext.style.display = hasMany ? "" : "none";

    if (!hasMany) return;

    btnPrev.disabled = currentIndex <= 0;
    btnNext.disabled = currentIndex >= visible.length - 1;
  }

    function goToIndex(nextIndex) {
    const visible = getVisibleGalleryLinks();
    if (visible.length === 0) return;

    const len = visible.length;
    currentIndex = ((nextIndex % len) + len) % len; // wrap

    openLightbox(getMetaFromLink(visible[currentIndex]));
    updateNavButtons();
  }


  function goNext() { goToIndex(currentIndex + 1); }
  function goPrev() { goToIndex(currentIndex - 1); }

  // Button clicks
  btnNext && btnNext.addEventListener("click", (e) => { e.stopPropagation(); goNext(); });
  btnPrev && btnPrev.addEventListener("click", (e) => { e.stopPropagation(); goPrev(); });

  // Intercept gallery clicks and open modal (and set index)
  galleryLinks.forEach((a) => {
    a.addEventListener("click", (e) => {
      const href = a.getAttribute("href") || "";
      if (!isImageHref(href)) return;

      e.preventDefault();

      const visible = getVisibleGalleryLinks();
      currentIndex = visible.indexOf(a);

      // If for some reason it's not found (shouldn't happen), fall back:
      if (currentIndex < 0) currentIndex = 0;

      openLightbox(getMetaFromLink(a));
      updateNavButtons();
    });
  });

  // Keyboard nav while open
  document.addEventListener("keydown", (e) => {
    if (!overlay.classList.contains("open")) return;

    if (e.key === "ArrowRight") {
      e.preventDefault();
      goNext();
    }
    if (e.key === "ArrowLeft") {
      e.preventDefault();
      goPrev();
    }
  });


  // ===========================
  // FILTER LOGIC (multi-select)
  // ===========================
  const filterButtons = Array.from(
    document.querySelectorAll(".filter-btn[data-filter]")
  );
  const clearBtn = document.getElementById("filterClear");
  const hint = document.getElementById("filterHint");
  const items = Array.from(document.querySelectorAll(".gallery-item"));

  const active = new Set();

  function getItemTags(el) {
    const raw = (el.getAttribute("data-tags") || "").toLowerCase().trim();
    if (!raw) return [];
    return raw.split(",").map(s => s.trim()).filter(Boolean);
  }

  function applyFilters() {
    if (active.size === 0) {
      items.forEach(it => it.classList.remove("is-hidden"));
      if (hint) hint.textContent = "Click multiple tags to filter.";
      return;
    }

    items.forEach(it => {
      const tags = getItemTags(it);
      const match = tags.some(t => active.has(t));
      it.classList.toggle("is-hidden", !match);
    });

    if (hint) hint.textContent = `Showing: ${Array.from(active).join(", ")}`;
  }

  function toggleButton(btn) {
    const key = (btn.getAttribute("data-filter") || "").toLowerCase();
    if (!key) return;

    if (active.has(key)) {
      active.delete(key);
      btn.classList.remove("is-active");
      btn.setAttribute("aria-pressed", "false");
    } else {
      active.add(key);
      btn.classList.add("is-active");
      btn.setAttribute("aria-pressed", "true");
    }

    applyFilters();
  }

  filterButtons.forEach(btn => {
    btn.setAttribute("aria-pressed", "false");
    btn.addEventListener("click", () => toggleButton(btn));
  });

  clearBtn?.addEventListener("click", () => {
    active.clear();
    filterButtons.forEach(b => {
      b.classList.remove("is-active");
      b.setAttribute("aria-pressed", "false");
    });
    applyFilters();
  });

  applyFilters();
})();
</script>




</body>
</html>
